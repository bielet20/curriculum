version: '3.8'

services:
  curriculum-web:
    build: .
    container_name: curriculum-gabriel-rivero
    ports:
      - "8080:80"
    restart: unless-stopped
    volumes:
      # Opcional: montar archivos para desarrollo sin reconstruir
      # - ./index-protegido.html:/usr/share/nginx/html/index.html:ro
      # - ./styles.css:/usr/share/nginx/html/styles.css:ro
      # - ./script.js:/usr/share/nginx/html/script.js:ro
      - nginx-logs:/var/log/nginx
    networks:
      - curriculum-network
    environment:
      - TZ=Europe/Madrid
    labels:
      - "com.curriculum.description=Curriculum web interactivo de Gabriel Rivero Sampol"
      - "com.curriculum.version=1.0"

volumes:
  nginx-logs:
    driver: local

networks:
  curriculum-network:
    driver: bridge
